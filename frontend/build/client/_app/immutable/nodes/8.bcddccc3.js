import{s as O,n as V,d as P,o as F,c as S}from"../chunks/scheduler.ffbd56c5.js";import{S as J,i as K,s as T,g as f,D as W,f as c,c as D,h as p,j as I,k as u,a as v,x as g,z as y,y as X}from"../chunks/index.02aeeab6.js";import{g as z,p as G,u as Y,i as Z}from"../chunks/navigation.f767a769.js";import{p as $}from"../chunks/stores.f244effd.js";function ee(d){let e,s='<p class="text-red-600">Error creating link. Please try again.</p> <a href="/" class="btn-eco mt-4 inline-block">Go Back</a>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-lmx9ro"&&(e.innerHTML=s),this.h()},h(){u(e,"class","py-12")},m(t,l){v(t,e,l)},p:V,d(t){t&&c(e)}}}function te(d){let e,s='Link created <span class="text-eco-600">successfully!</span>',t,l,h,a,r,n="Shortened URL:",_,i,M,C,L,R="QR Code:",A,E,k,U='<a href="/" class="btn-eco">Create Another Link</a> <a href="/dashboard" class="bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg">View Dashboard</a>',m=d[0]&&N(d);function B(o,b){return o[0].qrCode?re:le}let H=B(d),x=H(d);return{c(){e=f("h1"),e.innerHTML=s,t=T(),l=f("div"),h=f("div"),a=f("div"),r=f("label"),r.textContent=n,_=T(),i=f("div"),m&&m.c(),M=T(),C=f("div"),L=f("p"),L.textContent=R,A=T(),x.c(),E=T(),k=f("div"),k.innerHTML=U,this.h()},l(o){e=p(o,"H1",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-1euc19b"&&(e.innerHTML=s),t=D(o),l=p(o,"DIV",{class:!0});var b=I(l);h=p(b,"DIV",{class:!0});var w=I(h);a=p(w,"DIV",{});var q=I(a);r=p(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(r)!=="svelte-1e7gx5x"&&(r.textContent=n),_=D(q),i=p(q,"DIV",{class:!0});var Q=I(i);m&&m.l(Q),Q.forEach(c),q.forEach(c),M=D(w),C=p(w,"DIV",{class:!0});var j=I(C);L=p(j,"P",{class:!0,"data-svelte-h":!0}),y(L)!=="svelte-1t9805p"&&(L.textContent=R),A=D(j),x.l(j),j.forEach(c),w.forEach(c),b.forEach(c),E=D(o),k=p(o,"DIV",{class:!0,"data-svelte-h":!0}),y(k)!=="svelte-3u4pz9"&&(k.innerHTML=U),this.h()},h(){u(e,"class","text-3xl font-bold text-gray-900 mb-4"),u(r,"for","shortened-url"),u(r,"class","block text-sm font-medium text-gray-700 mb-2"),u(i,"class","flex items-center space-x-2"),u(L,"class","text-sm text-gray-600 mb-4"),u(C,"class","text-center"),u(h,"class","space-y-6"),u(l,"class","bg-white rounded-xl shadow-lg p-8 mb-8"),u(k,"class","flex justify-center space-x-4")},m(o,b){v(o,e,b),v(o,t,b),v(o,l,b),g(l,h),g(h,a),g(a,r),g(a,_),g(a,i),m&&m.m(i,null),g(h,M),g(h,C),g(C,L),g(C,A),x.m(C,null),v(o,E,b),v(o,k,b)},p(o,b){o[0]?m?m.p(o,b):(m=N(o),m.c(),m.m(i,null)):m&&(m.d(1),m=null),H===(H=B(o))&&x?x.p(o,b):(x.d(1),x=H(o),x&&(x.c(),x.m(C,null)))},d(o){o&&(c(e),c(t),c(l),c(E),c(k)),m&&m.d(),x.d()}}}function se(d){let e,s='<div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-eco-600"></div> <p class="mt-4 text-gray-600">Creating your sustainable link...</p>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-xh5kmu"&&(e.innerHTML=s),this.h()},h(){u(e,"class","py-12")},m(t,l){v(t,e,l)},p:V,d(t){t&&c(e)}}}function N(d){let e,s,t,l,h="Copy",a,r;return{c(){e=f("input"),t=T(),l=f("button"),l.textContent=h,this.h()},l(n){e=p(n,"INPUT",{id:!0,class:!0}),t=D(n),l=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),y(l)!=="svelte-hfjxy6"&&(l.textContent=h),this.h()},h(){u(e,"id","shortened-url"),e.value=s=d[0].shortCode,e.readOnly=!0,u(e,"class","input-eco flex-1 text-lg"),u(l,"class","btn-eco")},m(n,_){v(n,e,_),v(n,t,_),v(n,l,_),a||(r=X(l,"click",d[2]),a=!0)},p(n,_){_&1&&s!==(s=n[0].shortCode)&&e.value!==s&&(e.value=s)},d(n){n&&(c(e),c(t),c(l)),a=!1,r()}}}function le(d){let e,s='<span class="text-gray-500">QR Code not available</span>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-1mavt7m"&&(e.innerHTML=s),this.h()},h(){u(e,"class","w-48 h-48 mx-auto bg-gray-100 border rounded-lg flex items-center justify-center")},m(t,l){v(t,e,l)},p:V,d(t){t&&c(e)}}}function re(d){let e,s;return{c(){e=f("img"),this.h()},l(t){e=p(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){S(e.src,s="data:image/png;base64,"+d[0].qrCode)||u(e,"src",s),u(e,"alt","QR Code"),u(e,"class","mx-auto border rounded-lg shadow w-48 h-48")},m(t,l){v(t,e,l)},p(t,l){l&1&&!S(e.src,s="data:image/png;base64,"+t[0].qrCode)&&u(e,"src",s)},d(t){t&&c(e)}}}function ae(d){let e,s,t;function l(r,n){return r[1]?se:r[0]?te:ee}let h=l(d),a=h(d);return{c(){e=T(),s=f("div"),t=f("div"),a.c(),this.h()},l(r){W("svelte-1j3k86",document.head).forEach(c),e=D(r),s=p(r,"DIV",{class:!0});var _=I(s);t=p(_,"DIV",{class:!0});var i=I(t);a.l(i),i.forEach(c),_.forEach(c),this.h()},h(){document.title="Link Created - EcoLink",u(t,"class","max-w-3xl mx-auto"),u(s,"class","text-center")},m(r,n){v(r,e,n),v(r,s,n),g(s,t),a.m(t,null)},p(r,[n]){h===(h=l(r))&&a?a.p(r,n):(a.d(1),a=h(r),a&&(a.c(),a.m(t,null)))},i:V,o:V,d(r){r&&(c(e),c(s)),a.d()}}}function ne(d,e,s){let t,l,h,a;P(d,$,i=>s(3,t=i)),P(d,G,i=>s(4,l=i)),P(d,Y,i=>s(5,h=i)),P(d,Z,i=>s(6,a=i));let r={shortCode:""},n=!0;return F(async()=>{if(!a||!h){z("/auth");return}const i=l;if(i)s(0,r={shortCode:i.shortCode,qrCode:i.qrCode}),G.set(null),s(1,n=!1);else{const M=t.url.searchParams.get("short");M?(s(0,r={shortCode:M}),s(1,n=!1)):z("/dashboard")}}),[r,n,()=>navigator.clipboard.writeText(r.shortCode)]}class ue extends J{constructor(e){super(),K(this,e,ne,ae,O,{})}}export{ue as component};
