import{s as Ct,n as $e,o as Dt,c as Et}from"../chunks/scheduler.ffbd56c5.js";import{S as wt,i as It,s as v,e as yt,D as kt,f as s,c as p,a as fe,g as l,m as x,h as r,j as c,n as E,z as y,k as t,x as e,y as Lt,o as w}from"../chunks/index.02aeeab6.js";import{l as Vt}from"../chunks/google-direct.658b226e.js";import{r as Pt}from"../chunks/auth-guard.a0cccbed.js";import{g as At}from"../chunks/navigation.f767a769.js";import{c as Bt}from"../chunks/env.0a8cfa1c.js";function St(f){let o,i,u,n,a,d,h,Ae,C,Y,ae=f[0].name+"",ue,Be,M,Se,le=new Date(f[0].created_at).toLocaleDateString("pt-BR")+"",ve,Ue,Z,$,re=f[0].provider+"",pe,ze,D,R,et="Informações do Google",Me,_,q,I,tt="Nome",Re,H,se=f[0].name+"",me,qe,N,k,at="Email",He,T,oe=f[0].email+"",he,Ne,G,L,lt="ID do Google",Te,j,ie=f[0].google_id+"",_e,Ge,F,V,rt="ID no Sistema",je,O,ne=f[0].id+"",ge,Fe,J,P,st="Provedor",Oe,K,de=f[0].provider+"",be,Je,Q,A,ot="Última Atualização",Ke,W,ce=new Date(f[0].updated_at).toLocaleString("pt-BR")+"",xe,Qe,B,X,it="Ações da Conta",We,S,U,nt="Ver Dashboard",Xe,z,dt="Sair da Conta",Ye,ct;return{c(){o=l("div"),i=l("div"),u=l("div"),n=l("div"),a=l("img"),Ae=v(),C=l("div"),Y=l("h1"),ue=x(ae),Be=v(),M=l("p"),Se=x("EcoMembro desde "),ve=x(le),Ue=v(),Z=l("div"),$=l("span"),pe=x(re),ze=v(),D=l("div"),R=l("h2"),R.textContent=et,Me=v(),_=l("div"),q=l("div"),I=l("label"),I.textContent=tt,Re=v(),H=l("p"),me=x(se),qe=v(),N=l("div"),k=l("label"),k.textContent=at,He=v(),T=l("p"),he=x(oe),Ne=v(),G=l("div"),L=l("label"),L.textContent=lt,Te=v(),j=l("p"),_e=x(ie),Ge=v(),F=l("div"),V=l("label"),V.textContent=rt,je=v(),O=l("p"),ge=x(ne),Fe=v(),J=l("div"),P=l("label"),P.textContent=st,Oe=v(),K=l("p"),be=x(de),Je=v(),Q=l("div"),A=l("label"),A.textContent=ot,Ke=v(),W=l("p"),xe=x(ce),Qe=v(),B=l("div"),X=l("h3"),X.textContent=it,We=v(),S=l("div"),U=l("a"),U.textContent=nt,Xe=v(),z=l("button"),z.textContent=dt,this.h()},l(m){o=r(m,"DIV",{class:!0});var g=c(o);i=r(g,"DIV",{class:!0});var Ee=c(i);u=r(Ee,"DIV",{class:!0});var ft=c(u);n=r(ft,"DIV",{class:!0});var ye=c(n);a=r(ye,"IMG",{src:!0,alt:!0,class:!0}),Ae=p(ye),C=r(ye,"DIV",{class:!0});var ee=c(C);Y=r(ee,"H1",{class:!0});var ut=c(Y);ue=E(ut,ae),ut.forEach(s),Be=p(ee),M=r(ee,"P",{class:!0});var Ze=c(M);Se=E(Ze,"EcoMembro desde "),ve=E(Ze,le),Ze.forEach(s),Ue=p(ee),Z=r(ee,"DIV",{class:!0});var vt=c(Z);$=r(vt,"SPAN",{class:!0});var pt=c($);pe=E(pt,re),pt.forEach(s),vt.forEach(s),ee.forEach(s),ye.forEach(s),ft.forEach(s),ze=p(Ee),D=r(Ee,"DIV",{class:!0});var te=c(D);R=r(te,"H2",{class:!0,"data-svelte-h":!0}),y(R)!=="svelte-17ptr7t"&&(R.textContent=et),Me=p(te),_=r(te,"DIV",{class:!0});var b=c(_);q=r(b,"DIV",{});var Ce=c(q);I=r(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(I)!=="svelte-dega7r"&&(I.textContent=tt),Re=p(Ce),H=r(Ce,"P",{id:!0,class:!0});var mt=c(H);me=E(mt,se),mt.forEach(s),Ce.forEach(s),qe=p(b),N=r(b,"DIV",{});var De=c(N);k=r(De,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(k)!=="svelte-f8xz1t"&&(k.textContent=at),He=p(De),T=r(De,"P",{id:!0,class:!0});var ht=c(T);he=E(ht,oe),ht.forEach(s),De.forEach(s),Ne=p(b),G=r(b,"DIV",{});var we=c(G);L=r(we,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(L)!=="svelte-1sm9pel"&&(L.textContent=lt),Te=p(we),j=r(we,"P",{id:!0,class:!0});var _t=c(j);_e=E(_t,ie),_t.forEach(s),we.forEach(s),Ge=p(b),F=r(b,"DIV",{});var Ie=c(F);V=r(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(V)!=="svelte-sn8wii"&&(V.textContent=rt),je=p(Ie),O=r(Ie,"P",{id:!0,class:!0});var gt=c(O);ge=E(gt,ne),gt.forEach(s),Ie.forEach(s),Fe=p(b),J=r(b,"DIV",{});var ke=c(J);P=r(ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(P)!=="svelte-405b6b"&&(P.textContent=st),Oe=p(ke),K=r(ke,"P",{id:!0,class:!0});var bt=c(K);be=E(bt,de),bt.forEach(s),ke.forEach(s),Je=p(b),Q=r(b,"DIV",{});var Le=c(Q);A=r(Le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(A)!=="svelte-1ywx9fd"&&(A.textContent=ot),Ke=p(Le),W=r(Le,"P",{id:!0,class:!0});var xt=c(W);xe=E(xt,ce),xt.forEach(s),Le.forEach(s),b.forEach(s),Qe=p(te),B=r(te,"DIV",{class:!0});var Ve=c(B);X=r(Ve,"H3",{class:!0,"data-svelte-h":!0}),y(X)!=="svelte-zlywox"&&(X.textContent=it),We=p(Ve),S=r(Ve,"DIV",{class:!0});var Pe=c(S);U=r(Pe,"A",{href:!0,class:!0,"data-svelte-h":!0}),y(U)!=="svelte-1qmmwvl"&&(U.textContent=nt),Xe=p(Pe),z=r(Pe,"BUTTON",{class:!0,"data-svelte-h":!0}),y(z)!=="svelte-q64fo"&&(z.textContent=dt),Pe.forEach(s),Ve.forEach(s),te.forEach(s),Ee.forEach(s),g.forEach(s),this.h()},h(){Et(a.src,d=f[0].picture||"https://ui-avatars.com/api/?name="+encodeURIComponent(f[0].name||f[0].email||"Usuario")+"&background=16a34a&color=fff&size=80")||t(a,"src",d),t(a,"alt",h=f[0].name||"Usuario"),t(a,"class","w-20 h-20 rounded-full border-4 border-white shadow-lg"),t(Y,"class","text-2xl font-bold"),t(M,"class","text-green-100"),t($,"class","px-2 py-1 bg-white/20 rounded text-sm capitalize"),t(Z,"class","flex items-center space-x-2 mt-2"),t(C,"class","text-white"),t(n,"class","flex items-center space-x-4"),t(u,"class","bg-gradient-to-r from-eco-500 to-green-600 px-6 py-8"),t(R,"class","text-xl font-semibold text-gray-900 mb-6"),t(I,"for","profile-name"),t(I,"class","block text-sm font-medium text-gray-700 mb-1"),t(H,"id","profile-name"),t(H,"class","text-gray-900 py-2"),t(k,"for","profile-email"),t(k,"class","block text-sm font-medium text-gray-700 mb-1"),t(T,"id","profile-email"),t(T,"class","text-gray-900 py-2"),t(L,"for","profile-google-id"),t(L,"class","block text-sm font-medium text-gray-700 mb-1"),t(j,"id","profile-google-id"),t(j,"class","text-gray-600 py-2 font-mono text-sm"),t(V,"for","profile-system-id"),t(V,"class","block text-sm font-medium text-gray-700 mb-1"),t(O,"id","profile-system-id"),t(O,"class","text-gray-600 py-2 font-mono text-sm"),t(P,"for","profile-provider"),t(P,"class","block text-sm font-medium text-gray-700 mb-1"),t(K,"id","profile-provider"),t(K,"class","text-gray-900 py-2 capitalize"),t(A,"for","profile-updated-at"),t(A,"class","block text-sm font-medium text-gray-700 mb-1"),t(W,"id","profile-updated-at"),t(W,"class","text-gray-600 py-2"),t(_,"class","space-y-4"),t(X,"class","text-lg font-semibold text-gray-900 mb-4"),t(U,"href","/dashboard"),t(U,"class","block w-full text-center bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors"),t(z,"class","w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg transition-colors"),t(S,"class","space-y-3"),t(B,"class","mt-8 pt-6 border-t border-gray-200"),t(D,"class","p-6"),t(i,"class","bg-white rounded-xl shadow-lg overflow-hidden"),t(o,"class","max-w-2xl mx-auto")},m(m,g){fe(m,o,g),e(o,i),e(i,u),e(u,n),e(n,a),e(n,Ae),e(n,C),e(C,Y),e(Y,ue),e(C,Be),e(C,M),e(M,Se),e(M,ve),e(C,Ue),e(C,Z),e(Z,$),e($,pe),e(i,ze),e(i,D),e(D,R),e(D,Me),e(D,_),e(_,q),e(q,I),e(q,Re),e(q,H),e(H,me),e(_,qe),e(_,N),e(N,k),e(N,He),e(N,T),e(T,he),e(_,Ne),e(_,G),e(G,L),e(G,Te),e(G,j),e(j,_e),e(_,Ge),e(_,F),e(F,V),e(F,je),e(F,O),e(O,ge),e(_,Fe),e(_,J),e(J,P),e(J,Oe),e(J,K),e(K,be),e(_,Je),e(_,Q),e(Q,A),e(Q,Ke),e(Q,W),e(W,xe),e(D,Qe),e(D,B),e(B,X),e(B,We),e(B,S),e(S,U),e(S,Xe),e(S,z),Ye||(ct=Lt(z,"click",f[3]),Ye=!0)},p(m,g){g&1&&!Et(a.src,d=m[0].picture||"https://ui-avatars.com/api/?name="+encodeURIComponent(m[0].name||m[0].email||"Usuario")+"&background=16a34a&color=fff&size=80")&&t(a,"src",d),g&1&&h!==(h=m[0].name||"Usuario")&&t(a,"alt",h),g&1&&ae!==(ae=m[0].name+"")&&w(ue,ae),g&1&&le!==(le=new Date(m[0].created_at).toLocaleDateString("pt-BR")+"")&&w(ve,le),g&1&&re!==(re=m[0].provider+"")&&w(pe,re),g&1&&se!==(se=m[0].name+"")&&w(me,se),g&1&&oe!==(oe=m[0].email+"")&&w(he,oe),g&1&&ie!==(ie=m[0].google_id+"")&&w(_e,ie),g&1&&ne!==(ne=m[0].id+"")&&w(ge,ne),g&1&&de!==(de=m[0].provider+"")&&w(be,de),g&1&&ce!==(ce=new Date(m[0].updated_at).toLocaleString("pt-BR")+"")&&w(xe,ce)},d(m){m&&s(o),Ye=!1,ct()}}}function Ut(f){let o,i,u;return{c(){o=l("div"),i=l("p"),u=x(f[2]),this.h()},l(n){o=r(n,"DIV",{class:!0});var a=c(o);i=r(a,"P",{class:!0});var d=c(i);u=E(d,f[2]),d.forEach(s),a.forEach(s),this.h()},h(){t(i,"class","text-red-600"),t(o,"class","text-center py-8")},m(n,a){fe(n,o,a),e(o,i),e(i,u)},p(n,a){a&4&&w(u,n[2])},d(n){n&&s(o)}}}function zt(f){let o,i='<div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-eco-600"></div> <p class="mt-2 text-gray-600">Carregando perfil...</p>';return{c(){o=l("div"),o.innerHTML=i,this.h()},l(u){o=r(u,"DIV",{class:!0,"data-svelte-h":!0}),y(o)!=="svelte-a0rb2h"&&(o.innerHTML=i),this.h()},h(){t(o,"class","text-center py-8")},m(u,n){fe(u,o,n)},p:$e,d(u){u&&s(o)}}}function Mt(f){let o,i;function u(d,h){if(d[1])return zt;if(d[2])return Ut;if(d[0])return St}let n=u(f),a=n&&n(f);return{c(){o=v(),a&&a.c(),i=yt(),this.h()},l(d){kt("svelte-145rdro",document.head).forEach(s),o=p(d),a&&a.l(d),i=yt(),this.h()},h(){document.title="Perfil - EcoLink"},m(d,h){fe(d,o,h),a&&a.m(d,h),fe(d,i,h)},p(d,[h]){n===(n=u(d))&&a?a.p(d,h):(a&&a.d(1),a=n&&n(d),a&&(a.c(),a.m(i.parentNode,i)))},i:$e,o:$e,d(d){d&&(s(o),s(i)),a&&a.d(d)}}}function Rt(f,o,i){let u=null,n=!0,a=null;Dt(async()=>{if(await Pt())try{const h=await fetch(`${Bt.apiUrl}/api/v1/me`,{credentials:"include"});h.ok?i(0,u=await h.json()):h.status===404?i(2,a="Usuário não encontrado. Faça login novamente."):i(2,a="Erro ao carregar perfil")}catch(h){console.error("Erro:",h),i(2,a="Erro ao carregar perfil")}finally{i(1,n=!1)}});function d(){Vt(),At("/")}return[u,n,a,d]}class Ft extends wt{constructor(o){super(),It(this,o,Rt,Mt,Ct,{})}}export{Ft as component};
