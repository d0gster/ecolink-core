import{s as fe,n as K,o as ve}from"../chunks/scheduler.ffbd56c5.js";import{S as pe,i as _e,s as w,g as f,D as me,f as d,c as C,h as v,j as x,z as q,k as p,a as j,x as l,m as D,n as E,o as N,G as ge,y as xe}from"../chunks/index.02aeeab6.js";import{e as ce}from"../chunks/each.e59479a4.js";import{r as be}from"../chunks/auth-guard.a0cccbed.js";import{c as se}from"../chunks/env.0a8cfa1c.js";function de(i,e,s){const t=i.slice();return t[3]=e[s],t}function ke(i){let e,s,t,h,m=i[0].length+"",g,b,o,a,_=ce(i[0]),n=[];for(let c=0;c<_.length;c+=1)n[c]=he(de(i,_,c));return{c(){e=f("div"),s=f("div"),t=f("h2"),h=D("Your Links ("),g=D(m),b=D(")"),o=w(),a=f("div");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=v(c,"DIV",{class:!0});var u=x(e);s=v(u,"DIV",{class:!0});var r=x(s);t=v(r,"H2",{class:!0});var k=x(t);h=E(k,"Your Links ("),g=E(k,m),b=E(k,")"),k.forEach(d),r.forEach(d),o=C(u),a=v(u,"DIV",{class:!0});var M=x(a);for(let L=0;L<n.length;L+=1)n[L].l(M);M.forEach(d),u.forEach(d),this.h()},h(){p(t,"class","text-lg font-semibold text-gray-900"),p(s,"class","px-6 py-4 border-b border-gray-200"),p(a,"class","divide-y divide-gray-200"),p(e,"class","bg-white shadow rounded-lg overflow-hidden")},m(c,u){j(c,e,u),l(e,s),l(s,t),l(t,h),l(t,g),l(t,b),l(e,o),l(e,a);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(a,null)},p(c,u){if(u&1&&m!==(m=c[0].length+"")&&N(g,m),u&1){_=ce(c[0]);let r;for(r=0;r<_.length;r+=1){const k=de(c,_,r);n[r]?n[r].p(k,u):(n[r]=he(k),n[r].c(),n[r].m(a,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=_.length}},d(c){c&&d(e),ge(n,c)}}}function ye(i){let e,s='<div class="text-6xl mb-4">ðŸŒ±</div> <h3 class="text-xl font-semibold text-gray-900 mb-2">No links yet</h3> <p class="text-gray-600 mb-4">Start creating your first sustainable link!</p> <a href="/" class="btn-eco">Create First Link</a>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1y7zuuj"&&(e.innerHTML=s),this.h()},h(){p(e,"class","text-center py-12 bg-white rounded-lg shadow")},m(t,h){j(t,e,h)},p:K,d(t){t&&d(e)}}}function De(i){let e,s='<div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-eco-600"></div> <p class="mt-2 text-gray-600">Loading your links...</p>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-3he77g"&&(e.innerHTML=s),this.h()},h(){p(e,"class","text-center py-8")},m(t,h){j(t,e,h)},p:K,d(t){t&&d(e)}}}function he(i){let e,s,t,h,m,g='<div class="w-10 h-10 bg-eco-100 rounded-full flex items-center justify-center"><span class="text-eco-600 font-semibold">ðŸ”—</span></div>',b,o,a,_=i[3].originalUrl+"",n,c,u,r,k=se.apiUrl+"",M,L,A=i[3].shortCode+"",z,Q,V,P=i[3].clickCount+"",Y,R,W,H,$=new Date(i[3].createdAt).toLocaleDateString("en-US")+"",B,X,S,I,le="Copy",Z,ee,ae;function ue(){return i[2](i[3])}return{c(){e=f("div"),s=f("div"),t=f("div"),h=f("div"),m=f("div"),m.innerHTML=g,b=w(),o=f("div"),a=f("p"),n=D(_),c=w(),u=f("div"),r=f("p"),M=D(k),L=D("/"),z=D(A),Q=w(),V=f("span"),Y=D(P),R=D(" clicks"),W=w(),H=f("span"),B=D($),X=w(),S=f("div"),I=f("button"),I.textContent=le,Z=w(),this.h()},l(T){e=v(T,"DIV",{class:!0});var y=x(e);s=v(y,"DIV",{class:!0});var F=x(s);t=v(F,"DIV",{class:!0});var re=x(t);h=v(re,"DIV",{class:!0});var G=x(h);m=v(G,"DIV",{class:!0,"data-svelte-h":!0}),q(m)!=="svelte-7slykk"&&(m.innerHTML=g),b=C(G),o=v(G,"DIV",{class:!0});var O=x(o);a=v(O,"P",{class:!0});var ne=x(a);n=E(ne,_),ne.forEach(d),c=C(O),u=v(O,"DIV",{class:!0});var U=x(u);r=v(U,"P",{class:!0});var J=x(r);M=E(J,k),L=E(J,"/"),z=E(J,A),J.forEach(d),Q=C(U),V=v(U,"SPAN",{class:!0});var te=x(V);Y=E(te,P),R=E(te," clicks"),te.forEach(d),W=C(U),H=v(U,"SPAN",{class:!0});var ie=x(H);B=E(ie,$),ie.forEach(d),U.forEach(d),O.forEach(d),G.forEach(d),re.forEach(d),X=C(F),S=v(F,"DIV",{class:!0});var oe=x(S);I=v(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),q(I)!=="svelte-1u7xtwu"&&(I.textContent=le),oe.forEach(d),F.forEach(d),Z=C(y),y.forEach(d),this.h()},h(){p(m,"class","flex-shrink-0"),p(a,"class","text-sm font-medium text-gray-900 truncate"),p(r,"class","text-sm text-eco-600"),p(V,"class","text-sm text-gray-500"),p(H,"class","text-sm text-gray-500"),p(u,"class","flex items-center space-x-4 mt-1"),p(o,"class","flex-1 min-w-0"),p(h,"class","flex items-center space-x-3"),p(t,"class","flex-1 min-w-0"),p(I,"class","text-eco-600 hover:text-eco-700 text-sm font-medium"),p(S,"class","flex items-center space-x-2"),p(s,"class","flex items-center justify-between"),p(e,"class","px-6 py-4 hover:bg-gray-50")},m(T,y){j(T,e,y),l(e,s),l(s,t),l(t,h),l(h,m),l(h,b),l(h,o),l(o,a),l(a,n),l(o,c),l(o,u),l(u,r),l(r,M),l(r,L),l(r,z),l(u,Q),l(u,V),l(V,Y),l(V,R),l(u,W),l(u,H),l(H,B),l(s,X),l(s,S),l(S,I),l(e,Z),ee||(ae=xe(I,"click",ue),ee=!0)},p(T,y){i=T,y&1&&_!==(_=i[3].originalUrl+"")&&N(n,_),y&1&&A!==(A=i[3].shortCode+"")&&N(z,A),y&1&&P!==(P=i[3].clickCount+"")&&N(Y,P),y&1&&$!==($=new Date(i[3].createdAt).toLocaleDateString("en-US")+"")&&N(B,$)},d(T){T&&d(e),ee=!1,ae()}}}function Ee(i){let e,s,t,h='<h1 class="text-3xl font-bold text-gray-900">Dashboard</h1> <p class="text-gray-700 mt-2">Manage your shortened links</p>',m;function g(a,_){return a[1]?De:a[0].length===0?ye:ke}let b=g(i),o=b(i);return{c(){e=w(),s=f("div"),t=f("div"),t.innerHTML=h,m=w(),o.c(),this.h()},l(a){me("svelte-1dmdila",document.head).forEach(d),e=C(a),s=v(a,"DIV",{});var n=x(s);t=v(n,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-zbx3qx"&&(t.innerHTML=h),m=C(n),o.l(n),n.forEach(d),this.h()},h(){document.title="Dashboard - EcoLink",p(t,"class","mb-8")},m(a,_){j(a,e,_),j(a,s,_),l(s,t),l(s,m),o.m(s,null)},p(a,[_]){b===(b=g(a))&&o?o.p(a,_):(o.d(1),o=b(a),o&&(o.c(),o.m(s,null)))},i:K,o:K,d(a){a&&(d(e),d(s)),o.d()}}}function we(i,e,s){let t=[],h=!0;return ve(async()=>{if(await be())try{const g=await fetch(`${se.apiUrl}/api/v1/links`,{credentials:"include"});if(g.ok){const b=await g.json();s(0,t=b.links||[])}else console.error("Error loading links:",g.status)}catch(g){console.error("Error loading links:",g)}finally{s(1,h=!1)}}),[t,h,g=>navigator.clipboard.writeText(`${se.apiUrl}/${g.shortCode}`)]}class Me extends pe{constructor(e){super(),_e(this,e,we,Ee,fe,{})}}export{Me as component};
